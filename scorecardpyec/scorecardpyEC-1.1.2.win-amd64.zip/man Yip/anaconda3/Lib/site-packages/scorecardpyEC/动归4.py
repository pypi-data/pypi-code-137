# -*- coding: utf-8 -*-
"""
Created on Thu Mar 24 21:11:25 2022

@author: j2sej
"""
import pandas as pd
import numpy as np
data = pd.Series({
    -np.inf:[2,3,np.inf],
    2:[3,np.inf],
    3:[np.inf]
})

IV={
    (-np.inf,2):2,
    (-np.inf,3):3,
    (-np.inf,np.inf):2,
    
    (2,3):2,
    (2,np.inf):2,
    
    (3,np.inf):2
    
    }

# def dfs(data, path, paths = []):   
#     datum = path[0][-1]          
#     if datum != np.inf:
#         for val in data[datum]:
#             if val==np.inf and datum==3 and 2 in path[0]:
#                 continue
#             new_path = (path[0] + [val],path[1]+IV[(datum,val)])
#             paths = dfs(data, new_path, paths)
#     else:
#         paths += [path]
#     return paths

# print(dfs(data = data, path = ([-np.inf],0)))


def dfs(data, path, paths = []):   
    datum = path[0][-1]          
    if datum != np.inf:
        for val in data[datum]:
            # if val==np.inf and datum==3 and 2 in path[0]:
            #     continue
            new_path = (path[0] + [val],path[1]+IV[(datum,val)])
            paths = dfs(data, new_path, paths)
    else:
        paths += [path]
    return paths

print(dfs(data = data, path = ([-np.inf],0)))